<div data-controller="club" class="container is-max-desktop">
  <div class="card">
    <div class="card-content">
      <div class="media is-align-items-center">
        <div class="media-left">
          <figure class="image is-128x128">
            <img src="https://bulma.io/images/placeholders/96x96.png" alt="Placeholder image" class="is-rounded">
          </figure>
        </div>
        <div class="media-content">
          <h1 class="title is-3"><%= @club.name %></h1>
          <% if current_user.owner?(@club) %>
            <div class="columns">
              <div class="column">
                <%= button_to '„ÇØ„É©„ÉñÊÉÖÂ†±„ÇíÁ∑®ÈõÜ„Åô„Çã', edit_club_path(@club), method: :get, class: 'button is-small is-primary has-text-weight-bold' %>
              </div>
              <div class="column">
                <a data-action="club#toggleInvitaionUrlModal">„É°„É≥„Éê„ÉºÊãõÂæÖÁî®URL„ÇíÁô∫Ë°å„Åô„Çã</a>
              </div>
            </div>
          <% end %>
        </div>
      </div>
      <hr />
      <div class="block">
        <h2 class="title is-5">„ÇØ„É©„Éñ„Å´„Å§„ÅÑ„Å¶</h2>
        <p><%= @club.description %></p>
      </div>
      <div class="block">
        <h2 class="title is-5"><%= "„É°„É≥„Éê„ÉºÔºà#{ @members.size }‰∫∫Ôºâ" %></h2>
        <div class="columns is-multiline m-0">
          <% @members.each do |member| %>
            <div id="is-4" class="column box m-1">
              <%= link_to(member) do %>
                <div class="media is-align-items-center">
                  <div class="media-left">
                    <figure class="image is-32x32">
                      <%= image_tag member.profile_icon_url, class: 'is-rounded' %>
                    </figure>
                  </div>
                  <div class="media-content">
                    <!-- TODO Áπ™ÊñáÂ≠ó„Çí„Ç¢„Ç§„Ç≥„É≥„Å´Â∑Æ„ÅóÊõø„Åà„Çã -->
                    <% if member.owner?(@club) %><small class="has-text-dark">üëë</small><% end %>
                    <p class="has-text-dark"><%= member.nickname %></p>
                    <!-- TODO „ÇØ„É©„Éñ„ÇíÁÆ°ÁêÜ„Åô„ÇãÁîªÈù¢„Çí‰ΩúÊàê„Åó„Å¶„ÄÅ„Åù„Åì„Åß„É°„É≥„Éê„Éº„ÇíÂâäÈô§„Åô„Çã„Çà„ÅÜ„Å´„Åô„Çã
                      <% if current_user.owner?(@club) %>
                        <%= button_to '', resign_member_club_path(@club, user_id: member.id), method: :delete, class: 'delete is-small', form_class: 'delete is-small' %>
                      <% end %>
                    -->
                  </div>
                </div>
              <% end %>
            </div>
          <% end %>
        </div>
      </div>
      <div data-controller="talkroom" class="block">
        <h2 class="title is-5">„Éà„Éº„ÇØ„É´„Éº„É†</h2>
        <canvas id="canvas"></canvas>
        <div class="">
          <button data-action="talkroom#makeCall" class="button is-primary">ÈõªË©±„ÇíÊéõ„Åë„Çã</button>
          <input data-talkroom-target="roomId" type="text" class="input" />
          <button data-action="talkroom#endCall" class="button">ÈõªË©±„ÇíÂàá„Çã</button>
        </div>
      </div>
    </div>
  </div>
  <%= render partial: 'invitations/invitaion_url_modal' %>
</div>
